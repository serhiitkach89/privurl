
<!DOCTYPE html>
<html>

<head>
	<script type='text/javascript'>
		window.addEventListener('message', (event) => {
			console.log("message: ", event);
			try {
				console.log("wv1: ", event.data);
				window.external.notify(event.data); // WebView1
			} catch (e) { }
			try {
				console.log("wv2: ", event.data);
				window.chrome.webview.postMessage(event.data); // WebView2
			} catch (e) { }
		}, false);

        document.addEventListener('DOMContentLoaded', e => {
				const urlParams = new URLSearchParams(window.location.search);
				const r2pGameUrl = decodeURI( urlParams.get('game') );
				document.getElementById('iframe').setAttribute('src', r2pGameUrl);
			})

		function postMessageToIFrame(msg) {
			console.log("postmessage: ", msg);
			var x = document.getElementById('iframe');
			x.contentWindow.postMessage(msg, '*');
		}
	</script>
</head>

<body>
	<iframe sandbox='allow-scripts allow-same-origin' id='iframe' src=''
		style='position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;' />
</body>

</html>
